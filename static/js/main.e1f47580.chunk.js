(this.webpackJsonpntree=this.webpackJsonpntree||[]).push([[0],{25:function(t,i,a){},26:function(t,i,a){},32:function(t,i,a){"use strict";a.r(i);var e=a(6),r=a.n(e),n=a(16),o=a.n(n),l=(a(25),a(11)),u=(a(26),a(4)),b=function(t,i){return Math.random()*(i-t)+t},p=function(t,i){return t=Math.ceil(t),i=Math.floor(i),Math.floor(Math.random()*(i-t+1))+t},s=function(t){t.updateMatrix(),t.geometry.applyMatrix4(t.matrix),t.position.set(0,0,0),t.rotation.set(0,0,0),t.scale.set(1,1,1),t.updateMatrix()},c=function(t){for(var i=[],a=t.geometry.attributes.position.array,e=0;e<a.length-1;e+=3)i.push(new u.A(a[e],a[e+1],a[e+2]));return i},y=function(t){for(var i=[],a=0;a<t.length;a+=3)i.push({x:t[a],y:t[a+1],z:t[a+2],index:a});return i},v=function(t){var i=[];return t.sort((function(t,i){return t.index>i.index?1:t.index<i.index?-1:0})),t.forEach((function(t){i.push(t.x,t.y,t.z)})),i},f=function(t,i){var a=[];return t.forEach((function(e,r){t[i].x===e.x&&t[i].y===e.y&&t[i].z===e.z&&a.push(r)})),a},d=function(t,i,a){var e=a.color,r=a.tipHeight,n=a.data,o=a.tipOffsetX,l=a.tipOffsetZ,b=a.segmentHeight,p=a.topOffsetX,c=a.topOffsetZ,d=new u.o({color:parseInt(e.replace("#","0x"),16),flatShading:!0}),h=new u.j,w=n.length*b,m=new u.t(new u.A(t.x,t.y,t.z),new u.A(t.x-(p>1?-1:p),t.y+w/2,t.z-(c>1?-1:c)),new u.A(t.x+p,t.y+w,t.z+c)).getPoints(n.length-1),g=null;return m.forEach((function(t,i){if(g){var a=n[i],e=function(t,i,a,e,r,n,o,l,b,p){var c=(new u.A).subVectors(i,t),d=new u.m;d.lookAt(t,i,(new u.p).up),d.multiply((new u.m).set(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1));var h=new u.e(r,e,c.length(),10,2,!1),w=new u.n(h,a),m=y(w.geometry.attributes.position.array);m.sort((function(t,i){return t.y>i.y?1:t.y<i.y?-1:0}));for(var g=0;g<11;g+=2)f(m,g).forEach((function(t){m[t].y-=.7}));return f(m,20).forEach((function(t){m[t].y+=1})),o&&f(m,60).forEach((function(t){m[t].y+=l,m[t].x+=b,m[t].z+=p})),w.geometry.setAttribute("position",new u.i(v(m),3)),s(w),w.applyMatrix4(d),w.position.x=(i.x+t.x)/2,w.position.y=(i.y+t.y)/2,w.position.z=(i.z+t.z)/2,w.rotateY(.0174532925*n),s(w),w}(new u.A(g.x,g.y-.3,g.z),t,d,a.bottomRadius,a.topRadius,a.rotationY,i===m.length-1,r,o,l);s(e),e.geometry.attributes.position.needsUpdate=!0,h.add(e)}g=t})),h.translateY(-1),h},h=a(20),w=a(10),m=a(17),g=a(19),x=[{value:"#d59168",probability:1},{value:"#b97952",probability:10},{value:"#a46239",probability:10},{value:"#6e3b1c",probability:100},{value:"#4f2409",probability:100},{value:"#593e30",probability:1e3},{value:"#52473e",probability:1e3},{value:"#2f1b10",probability:1e3}],A=[{value:.65,probability:1},{value:.68,probability:5},{value:.7,probability:100},{value:.72,probability:5},{value:.75,probability:1}],j=[{value:.8,probability:1},{value:.81,probability:5},{value:.82,probability:20},{value:.83,probability:100},{value:.84,probability:100},{value:.85,probability:20}],E=[{value:4,probability:10},{value:5,probability:100},{value:6,probability:100},{value:7,probability:10}],O=[{value:4,probability:100},{value:4.5,probability:50},{value:5,probability:50}],z=[{value:"#b8da67",probability:1},{value:"#91b341",probability:10},{value:"#384d10",probability:10},{value:"#2f3b17",probability:100},{value:"#99b93e",probability:100},{value:"#647a26",probability:1e3},{value:"#313b0b",probability:1e3},{value:"#1e2309",probability:1e3}],F=[{value:3,probability:100},{value:3.3,probability:200},{value:3.5,probability:100},{value:3.8,probability:50},{value:4,probability:10}],M=[{value:0,probability:50},{value:.1,probability:50},{value:.2,probability:50},{value:.3,probability:5}],k=[{value:-.8,probability:50},{value:-.5,probability:50},{value:-.3,probability:50},{value:0,probability:1e3},{value:.3,probability:50},{value:.5,probability:50},{value:.8,probability:50}],T=[{value:3,probability:200},{value:4,probability:200},{value:5,probability:50},{value:6,probability:10},{value:7,probability:2}],D=[{value:4,probability:1},{value:4.05,probability:100},{value:4.1,probability:500},{value:4.15,probability:100},{value:4.2,probability:500},{value:4.25,probability:100},{value:4.3,probability:20},{value:4.35,probability:1}],S=[{value:.5,probability:10},{value:.55,probability:50},{value:.6,probability:100},{value:.65,probability:50},{value:.7,probability:10}],H=[{value:.85,probability:50},{value:.8,probability:50},{value:.75,probability:50}],R=[{value:1.8,probability:10},{value:1.9,probability:50},{value:2,probability:100},{value:2.1,probability:50},{value:2.2,probability:10}],Y=[{value:-30,probability:100},{value:-20,probability:100},{value:-10,probability:100},{value:0,probability:100},{value:10,probability:100},{value:20,probability:100},{value:30,probability:100}],I=function(t){var i=function(t){var i=[];return t.forEach((function(t){for(var a=0;a<t.probability;a++)i.push(t.value)})),i}(t);return i[p(0,i.length-1)]},L=function(){var t=I(x),i=I(A),a=I(j),e=function(t,i){for(var a=[],e=0;e<=t;e++){var r=[b(0,.5).toFixed(2),(i/t*e).toFixed(2),0,b(0,100).toFixed(2)];a.push(r.join("|"))}return a.join(",")}(I(E),I(O)),r=I(z),n=I(F),o=I(M),l=I(M),u=function(t,i,a){for(var e=[],r=I(D),n=0;n<=t;n++){var o=I(F),l=I(Y),u=[r,(r*i).toFixed(2),o,l];e.push(u.join("|")),r*=a}return e.join(",")}(I(T),I(S),I(H)),p=I(R),s=I(k),c=I(k);return[[t,i,a,e].join("&"),[r,n,o,l,u,p,s,c].join("&")].join("^")},N=function(t){var i=[];return t.split(",").forEach((function(t){var a=t.split("|");a=a.map((function(t){return parseFloat(t)})),i.push({x:a[0],y:a[1],z:a[2],seed:a[3]})})),i},B=function(t,i){var a=[];return t.split(",").forEach((function(t){var e=(t=(t=(t=t.replace("x",i.x)).replace("y",i.y)).replace("z",i.z)).split("|");e=e.map((function(t){return function(t){var i=0;for(t=t.replace(/\s/g,"").match(/[+\-]?([0-9\.\s]+)/g)||[];t.length;)i+=parseFloat(t.shift());return i}(t)})),a.push({bottomRadius:e[0],topRadius:e[1],height:e[2],rotationY:e[3]})})),a},W=function(t,i){var a=t.split("^"),e=function(t){var i=t.split("&");return{color:i[0],width:parseFloat(i[1]),shrink:parseFloat(i[2]),pointArray:N(i[3])}}(a[0]),r=e.pointArray[e.pointArray.length-1].y,n=function(t,i){var a=t.split("&");return{color:a[0],tipHeight:parseFloat(a[1]),tipOffsetX:parseFloat(a[2]),tipOffsetZ:parseFloat(a[3]),data:B(a[4],i),segmentHeight:parseFloat(a[5]),topOffsetX:parseFloat(a[6]),topOffsetZ:parseFloat(a[7])}}(a[1],r);if(i<=2){var o=Math.floor(i*(e.pointArray.length/10)),l=e.pointArray.length;return e.pointArray=e.pointArray.splice(0,o<=l?o:l),e.color="#74a146",{trunkData:e,scale:i/20}}return n.data=n.data.splice(0,i-9),{topData:n,trunkData:e,scale:i/20}},X=function(){var t=new u.d(.05,1,3,4),i=new u.o({color:"#5c7a3a",flatShading:!0}),a=new u.n(t,i),e=y(a.geometry.attributes.position.array),r=e.filter((function(t,i,a){return i===a.findIndex((function(i){return i.y===t.y}))}));(r=r.map((function(t){return t.y}))).forEach((function(t){e.filter((function(i){return i.y===t})).forEach((function(t){e[e.indexOf(t)].x+=b(-.05,.05),e[e.indexOf(t)].z+=b(-.05,.05)}))}));var n=v(e);return a.geometry.setAttribute("position",new u.i(n,3)),a},Z=a(18),J=a(9),q=function(){var t=Object(e.useState)(new u.v),i=Object(l.a)(t,2),a=i[0],r=i[1],n=Object(e.useState)(new u.r(75,window.innerWidth/window.innerHeight,.1,1e3)),o=Object(l.a)(n,2),x=o[0],A=o[1],j=Object(e.useRef)(null),E=function(t,i,a){var e=W(i,a),r=e.trunkData,n=e.topData,o=e.scale,l=function(t,i){var a=i.color,e=i.width,r=i.shrink,n=i.pointArray,o=[],l=new u.j,b=new u.o({color:parseInt(a.replace("#","0x"),16),flatShading:!0});n.forEach((function(t){var i=new u.e(e,e,0,12),a=new u.n(i,b);a.position.set(t.x,t.y,t.z),a.scale.set(1,1,1);for(var n=a.geometry.attributes.position.array,p=new Float32Array(n.length),c=Object(w.makeNoise2D)(t.seed),y=0;y<=n.length;y+=3){var v=new u.A(n[y],n[y+1],n[y+2]);v.normalize().multiplyScalar(e+.2*c(2*v.x,2*v.y)),p[y]=v.x,p[y+1]=v.y,p[y+2]=v.z}a.geometry.setAttribute("position",new u.i(p,3)),s(a),l.add(a),o.push(a),e*=r}));for(var p=function(t){var i=[o[t-1],o[t]],a=[];i.forEach((function(t){a=a.concat(c(t))}));var e=new h.a(a),r=new u.n(e,b);l.add(r)},y=1;y<o.length;y++)p(y);return{trunkMesh:l,trunkTop:n[n.length-1]}}(0,r),b=l.trunkMesh,p=l.trunkTop,y=n&&d(p,0,n),v=new u.j;return v.add(b),n&&v.add(y),v.position.set(t.x,t.y,t.z),v.scale.set(o,o,o),{mesh:v,width:n.data[0].bottomRadius}};return Object(e.useEffect)((function(){var t=function(t,i){var a=new u.n(new u.g(i,2),new u.o({vertexColors:!0,flatShading:!0})),e=y(a.geometry.attributes.position.array),r=[];e.forEach((function(t,a){if(t.y>-1){var n=f(e,a),o=Object(w.makeNoise2D)();n.forEach((function(t){e[t].y=.2*o(2*e[t].x,.4*e[t].y)*(i/3)-1})),r=r.concat(n)}})),a.geometry.setAttribute("position",new u.i(v(e),3));var n=[],o=new u.c;return e.forEach((function(t){o.set(["#c9c9c9","#91bd60"][Math.random()>.7?0:1]),n.push(o.r,o.g,o.b),n.push(o.r,o.g,o.b),n.push(o.r,o.g,o.b)})),a.geometry.setAttribute("color",new u.i(n,3)),a.translateY(1),a}(0,10),i=new u.j;i.add(t),t.translateY(-4);for(var e=new Z.a(t).build(),n=new u.A,o=[],l=0;l<=5;)e.sample(n),new u.A(0,0,0).distanceTo(n)<9&&function(){var t=E(n,L(),b(11,20)),a=t.mesh,e=t.width;a.translateY(-3);var r=!0;o.forEach((function(t){t.position.distanceTo(a.position)<t.width+1.5&&(r=!1)})),r&&(i.add(a),o.push({position:a.position,width:e}),l++)}();for(var s=0,d=function(){e.sample(n);var t=function(){var t=new u.n(new u.q(3,1),new u.o({color:"#919191",flatShading:!0})),i=c(t),a=Object(w.makeNoise3D)(100*Math.random());i.forEach((function(t){t.normalize().multiplyScalar(1+.2*a(1*t.x,1*t.y,1*t.z))}));var e=v(i);return t.geometry.setAttribute("position",new u.i(e,3)),t.scale.set(b(.5,1),.5,b(.5,1)),t}();if(n.y>-3&&new u.A(0,0,0).distanceTo(n)<9){t.position.set(n.x,n.y-3,n.z);var a=!0;o.forEach((function(i){i.position.distanceTo(t.position)<1&&(a=!1)})),a&&(i.add(t),o.push({position:t.position,width:1}),s++)}};s<=20;)d();for(var h=[],g=0;g<10;g++)h.push(X());for(var O=0,z=function(){e.sample(n);var t=h[p(0,9)].clone();if(n.y>-3&&new u.A(0,1,0).distanceTo(n)<9.4){t.position.set(n.x,n.y-3,n.z);var a=!0;o.forEach((function(i){i.position.distanceTo(t.position)<.8&&(a=!1)})),a&&(i.add(t),O++)}};O<=10;)z();a.add(i),function(t,i,a,e,r,n){i(new u.v),r(new u.r(75,window.innerWidth/window.innerHeight,.1,1e3)),e.position.set(15,10,15);var o=new u.a(4210752);t.add(o);var l=new u.f("#ffffff",.9);l.position.set(-5,2,8),t.add(l);var b=new u.f("#538628",.5);b.position.set(10,2,-8),t.add(b);var p=new u.B({alpha:!0});p.setSize(window.innerWidth,window.innerHeight),a.current.innerHTML="",a.current.appendChild(p.domElement);var s=!1,c=new m.a(e,p.domElement);c.mouseButtons={LEFT:u.l.ROTATE,MIDDLE:u.l.DOLLY,RIGHT:u.l.PAN},c.update(),c.addEventListener("change",(function(){s=!0,p.render(t,e)})),function i(){s||(requestAnimationFrame(i),n.rotateY(.004),p.render(t,e))}(),p.domElement.toDataURL()}(a,r,j,x,A,i)}),[]),Object(J.jsxs)(e.Fragment,{children:[window.innerWidth<=1e3&&Object(J.jsx)(g.a,{className:"moveButton"}),Object(J.jsx)("div",{ref:j,className:"container",style:window.innerWidth>1e3?{backgroundImage:"url('http://i.imgur.com/HAhyJxB.png?1')"}:{}})]})};o.a.render(Object(J.jsx)(r.a.StrictMode,{children:Object(J.jsx)(q,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.e1f47580.chunk.js.map