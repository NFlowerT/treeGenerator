(this.webpackJsonpntree=this.webpackJsonpntree||[]).push([[0],{25:function(t,a,e){},26:function(t,a,e){},32:function(t,a,e){"use strict";e.r(a);var i=e(6),r=e.n(i),o=e(16),n=e.n(o),l=(e(25),e(11)),u=(e(26),e(4)),b=function(t,a){return Math.random()*(a-t)+t},p=function(t){t.updateMatrix(),t.geometry.applyMatrix4(t.matrix),t.position.set(0,0,0),t.rotation.set(0,0,0),t.scale.set(1,1,1),t.updateMatrix()},s=function(t){for(var a=[],e=t.geometry.attributes.position.array,i=0;i<e.length-1;i+=3)a.push(new u.A(e[i],e[i+1],e[i+2]));return a},y=function(t){for(var a=[],e=0;e<t.length;e+=3)a.push({x:t[e],y:t[e+1],z:t[e+2],index:e});return a},v=function(t){var a=[];return t.sort((function(t,a){return t.index>a.index?1:t.index<a.index?-1:0})),t.forEach((function(t){a.push(t.x,t.y,t.z)})),a},c=function(t,a){var e=[];return t.forEach((function(i,r){t[a].x===i.x&&t[a].y===i.y&&t[a].z===i.z&&e.push(r)})),e},f=function(t,a,e){var i=e.color,r=e.tipHeight,o=e.data,n=e.tipOffsetX,l=e.tipOffsetZ,b=e.segmentHeight,s=e.topOffsetX,f=e.topOffsetZ,d=new u.o({color:parseInt(i.replace("#","0x"),16),flatShading:!0}),h=new u.j,w=o.length*b,m=new u.t(new u.A(t.x,t.y,t.z),new u.A(t.x-(s>1?-1:s),t.y+w/2,t.z-(f>1?-1:f)),new u.A(t.x+s,t.y+w,t.z+f)).getPoints(o.length-1),g=null;return m.forEach((function(t,a){if(g){var e=o[a],i=function(t,a,e,i,r,o,n,l,b,s){var f=(new u.A).subVectors(a,t),d=new u.m;d.lookAt(t,a,(new u.p).up),d.multiply((new u.m).set(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1));var h=new u.e(r,i,f.length(),10,2,!1),w=new u.n(h,e),m=y(w.geometry.attributes.position.array);m.sort((function(t,a){return t.y>a.y?1:t.y<a.y?-1:0}));for(var g=0;g<11;g+=2)c(m,g).forEach((function(t){m[t].y-=.7}));return c(m,20).forEach((function(t){m[t].y+=1})),n&&c(m,60).forEach((function(t){m[t].y+=l,m[t].x+=b,m[t].z+=s})),w.geometry.setAttribute("position",new u.i(v(m),3)),p(w),w.applyMatrix4(d),w.position.x=(a.x+t.x)/2,w.position.y=(a.y+t.y)/2,w.position.z=(a.z+t.z)/2,w.rotateY(.0174532925*o),p(w),w}(new u.A(g.x,g.y-.3,g.z),t,d,e.bottomRadius,e.topRadius,e.rotationY,a===m.length-1,r,n,l);p(i),i.geometry.attributes.position.needsUpdate=!0,h.add(i)}g=t})),h.translateY(-1),h},d=e(20),h=e(10),w=e(17),m=e(19),g=[{value:"#d59168",probability:1},{value:"#b97952",probability:10},{value:"#a46239",probability:10},{value:"#6e3b1c",probability:100},{value:"#4f2409",probability:100},{value:"#593e30",probability:1e3},{value:"#52473e",probability:1e3},{value:"#2f1b10",probability:1e3}],x=[{value:.65,probability:1},{value:.68,probability:5},{value:.7,probability:100},{value:.72,probability:5},{value:.75,probability:1}],j=[{value:.8,probability:1},{value:.81,probability:5},{value:.82,probability:20},{value:.83,probability:100},{value:.84,probability:100},{value:.85,probability:20}],z=[{value:4,probability:10},{value:5,probability:100},{value:6,probability:100},{value:7,probability:10}],A=[{value:4,probability:100},{value:4.5,probability:50},{value:5,probability:50}],E=[{value:"#b8da67",probability:1},{value:"#91b341",probability:10},{value:"#384d10",probability:10},{value:"#2f3b17",probability:100},{value:"#99b93e",probability:100},{value:"#647a26",probability:1e3},{value:"#313b0b",probability:1e3},{value:"#1e2309",probability:1e3}],O=[{value:3,probability:100},{value:3.3,probability:200},{value:3.5,probability:100},{value:3.8,probability:50},{value:4,probability:10}],F=[{value:0,probability:50},{value:.1,probability:50},{value:.2,probability:50},{value:.3,probability:5}],M=[{value:-.8,probability:50},{value:-.5,probability:50},{value:-.3,probability:50},{value:0,probability:1e3},{value:.3,probability:50},{value:.5,probability:50},{value:.8,probability:50}],k=[{value:3,probability:200},{value:4,probability:200},{value:5,probability:50},{value:6,probability:10},{value:7,probability:2}],D=[{value:4,probability:1},{value:4.05,probability:100},{value:4.1,probability:500},{value:4.15,probability:100},{value:4.2,probability:500},{value:4.25,probability:100},{value:4.3,probability:20},{value:4.35,probability:1}],T=[{value:.5,probability:10},{value:.55,probability:50},{value:.6,probability:100},{value:.65,probability:50},{value:.7,probability:10}],S=[{value:.85,probability:50},{value:.8,probability:50},{value:.75,probability:50}],H=[{value:1.8,probability:10},{value:1.9,probability:50},{value:2,probability:100},{value:2.1,probability:50},{value:2.2,probability:10}],R=[{value:-30,probability:100},{value:-20,probability:100},{value:-10,probability:100},{value:0,probability:100},{value:10,probability:100},{value:20,probability:100},{value:30,probability:100}],Y=function(t){var a,e,i=function(t){var a=[];return t.forEach((function(t){for(var e=0;e<t.probability;e++)a.push(t.value)})),a}(t);return i[(a=0,e=i.length-1,a=Math.ceil(a),e=Math.floor(e),Math.floor(Math.random()*(e-a+1))+a)]},L=function(){var t=Y(g),a=Y(x),e=Y(j),i=function(t,a){for(var e=[],i=0;i<=t;i++){var r=[b(0,.5).toFixed(2),(a/t*i).toFixed(2),0,b(0,100).toFixed(2)];e.push(r.join("|"))}return e.join(",")}(Y(z),Y(A)),r=Y(E),o=Y(O),n=Y(F),l=Y(F),u=function(t,a,e){for(var i=[],r=Y(D),o=0;o<=t;o++){var n=Y(O),l=Y(R),u=[r,(r*a).toFixed(2),n,l];i.push(u.join("|")),r*=e}return i.join(",")}(Y(k),Y(T),Y(S)),p=Y(H),s=Y(M),y=Y(M);return[[t,a,e,i].join("&"),[r,o,n,l,u,p,s,y].join("&")].join("^")},N=function(t){var a=[];return t.split(",").forEach((function(t){var e=t.split("|");e=e.map((function(t){return parseFloat(t)})),a.push({x:e[0],y:e[1],z:e[2],seed:e[3]})})),a},I=function(t,a){var e=[];return t.split(",").forEach((function(t){var i=(t=(t=(t=t.replace("x",a.x)).replace("y",a.y)).replace("z",a.z)).split("|");i=i.map((function(t){return function(t){var a=0;for(t=t.replace(/\s/g,"").match(/[+\-]?([0-9\.\s]+)/g)||[];t.length;)a+=parseFloat(t.shift());return a}(t)})),e.push({bottomRadius:i[0],topRadius:i[1],height:i[2],rotationY:i[3]})})),e},B=function(t,a){var e=t.split("^"),i=function(t){var a=t.split("&");return{color:a[0],width:parseFloat(a[1]),shrink:parseFloat(a[2]),pointArray:N(a[3])}}(e[0]),r=i.pointArray[i.pointArray.length-1].y,o=function(t,a){var e=t.split("&");return{color:e[0],tipHeight:parseFloat(e[1]),tipOffsetX:parseFloat(e[2]),tipOffsetZ:parseFloat(e[3]),data:I(e[4],a),segmentHeight:parseFloat(e[5]),topOffsetX:parseFloat(e[6]),topOffsetZ:parseFloat(e[7])}}(e[1],r);if(a<=2){var n=Math.floor(a*(i.pointArray.length/10)),l=i.pointArray.length;return i.pointArray=i.pointArray.splice(0,n<=l?n:l),i.color="#74a146",{trunkData:i,scale:a/20}}return o.data=o.data.splice(0,a-9),{topData:o,trunkData:i,scale:a/20}},W=e(18),X=e(9),Z=function(){var t=Object(i.useState)(new u.v),a=Object(l.a)(t,2),e=a[0],r=a[1],o=Object(i.useState)(new u.r(75,window.innerWidth/window.innerHeight,.1,1e3)),n=Object(l.a)(o,2),g=n[0],x=n[1],j=Object(i.useRef)(null),z=function(t,a,e){var i=B(a,e),r=i.trunkData,o=i.topData,n=i.scale,l=function(t,a){var e=a.color,i=a.width,r=a.shrink,o=a.pointArray,n=[],l=new u.j,b=new u.o({color:parseInt(e.replace("#","0x"),16),flatShading:!0});o.forEach((function(t){var a=new u.e(i,i,0,12),e=new u.n(a,b);e.position.set(t.x,t.y,t.z),e.scale.set(1,1,1);for(var o=e.geometry.attributes.position.array,s=new Float32Array(o.length),y=Object(h.makeNoise2D)(t.seed),v=0;v<=o.length;v+=3){var c=new u.A(o[v],o[v+1],o[v+2]);c.normalize().multiplyScalar(i+.2*y(2*c.x,2*c.y)),s[v]=c.x,s[v+1]=c.y,s[v+2]=c.z}e.geometry.setAttribute("position",new u.i(s,3)),p(e),l.add(e),n.push(e),i*=r}));for(var y=function(t){var a=[n[t-1],n[t]],e=[];a.forEach((function(t){e=e.concat(s(t))}));var i=new d.a(e),r=new u.n(i,b);l.add(r)},v=1;v<n.length;v++)y(v);return{trunkMesh:l,trunkTop:o[o.length-1]}}(0,r),b=l.trunkMesh,y=l.trunkTop,v=o&&f(y,0,o),c=new u.j;return c.add(b),o&&c.add(v),c.position.set(t.x,t.y,t.z),c.scale.set(n,n,n),{mesh:c,width:o.data[0].bottomRadius}};return Object(i.useEffect)((function(){var t=function(t,a){var e=new u.n(new u.g(a,6),new u.o({vertexColors:!0,flatShading:!0})),i=y(e.geometry.attributes.position.array),r=[];i.forEach((function(t,e){if(t.y>-1){var o=c(i,e),n=Object(h.makeNoise2D)();o.forEach((function(t){i[t].y=.4*n(.2*i[t].x,.3*i[t].y)*(a/4)-1})),r=r.concat(o)}})),e.geometry.setAttribute("position",new u.i(v(i),3));var o=[],n=new u.c;return i.forEach((function(){n.set(["#727272","#557312"][Math.random()>.7?0:1]),o.push(n.r,n.g,n.b),o.push(n.r,n.g,n.b),o.push(n.r,n.g,n.b)})),e.geometry.setAttribute("color",new u.i(o,3)),e.translateY(1),e}(0,10),a=new u.j;a.add(t),t.translateY(-4);for(var i=new W.a(t).build(),o=new u.A,n=[],l=0;l<=5;)i.sample(o),new u.A(0,0,0).distanceTo(o)<9&&function(){var t=z(o,L(),b(11,20)),e=t.mesh,i=t.width;e.translateY(-3);var r=!0;n.forEach((function(t){t.position.distanceTo(e.position)<t.width+1.5&&(r=!1)})),r&&(a.add(e),n.push({position:e.position,width:i}),l++)}();for(var p=0,f=function(){i.sample(o);var t=function(){var t=new u.n(new u.q(3,1),new u.o({color:"#919191",flatShading:!0})),a=s(t),e=Object(h.makeNoise3D)(100*Math.random());a.forEach((function(t){t.normalize().multiplyScalar(1+.2*e(1*t.x,1*t.y,1*t.z))}));var i=v(a);return t.geometry.setAttribute("position",new u.i(i,3)),t.scale.set(b(.5,1),.5,b(.5,1)),t}();if(o.y>-3&&new u.A(0,0,0).distanceTo(o)<9){t.position.set(o.x,o.y-3,o.z);var e=!0;n.forEach((function(a){a.position.distanceTo(t.position)<1&&(e=!1)})),e&&(a.add(t),n.push({position:t.position,width:1}),p++)}};p<=20;)f();e.add(a),function(t,a,e,i,r,o){a(new u.v),r(new u.r(75,window.innerWidth/window.innerHeight,.1,1e3)),i.position.set(20,5,20);var n=new u.a(4210752);t.add(n),[{intensity:1.1,x:1e4,y:1e4,z:1e4},{intensity:.1,x:0,y:10,z:10},{intensity:.1,x:10,y:10,z:-10},{intensity:.1,x:-10,y:10,z:-10},{intensity:.4,x:0,y:-20,z:0}].forEach((function(a){var e=a.intensity,i=a.x,r=a.y,o=a.z,n=new u.f("#ffffff",e);n.position.set(i,r,o),t.add(n)}));var l=new u.B({alpha:!0});l.setSize(window.innerWidth,window.innerHeight),e.current.innerHTML="",e.current.appendChild(l.domElement);var b=!1,p=new w.a(i,l.domElement);p.mouseButtons={LEFT:u.l.ROTATE,MIDDLE:u.l.DOLLY,RIGHT:u.l.PAN},p.update(),p.addEventListener("change",(function(){b=!0,l.render(t,i)})),function a(){b||(requestAnimationFrame(a),o.rotateY(.004),l.render(t,i))}();var s=l.domElement.toDataURL();console.log(s)}(e,r,j,g,x,a)}),[]),Object(X.jsxs)(i.Fragment,{children:[window.innerWidth<=1e3&&Object(X.jsx)(m.a,{className:"moveButton"}),Object(X.jsx)("div",{ref:j,className:"container"})]})};n.a.render(Object(X.jsx)(r.a.StrictMode,{children:Object(X.jsx)(Z,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.276ff62a.chunk.js.map