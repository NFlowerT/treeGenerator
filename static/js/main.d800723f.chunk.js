(this.webpackJsonpntree=this.webpackJsonpntree||[]).push([[0],{25:function(t,i,e){},26:function(t,i,e){},32:function(t,i,e){"use strict";e.r(i);var a=e(6),n=e.n(a),r=e(16),o=e.n(r),l=(e(25),e(11)),u=(e(26),e(4)),b=function(t,i){return Math.random()*(i-t)+t},p=function(t,i){return t=Math.ceil(t),i=Math.floor(i),Math.floor(Math.random()*(i-t+1))+t},s=function(t){t.updateMatrix(),t.geometry.applyMatrix4(t.matrix),t.position.set(0,0,0),t.rotation.set(0,0,0),t.scale.set(1,1,1),t.updateMatrix()},y=function(t){for(var i=[],e=t.geometry.attributes.position.array,a=0;a<e.length-1;a+=3)i.push(new u.A(e[a],e[a+1],e[a+2]));return i},c=function(t){for(var i=[],e=0;e<t.length;e+=3)i.push({x:t[e],y:t[e+1],z:t[e+2],index:e});return i},f=function(t){var i=[];return t.sort((function(t,i){return t.index>i.index?1:t.index<i.index?-1:0})),t.forEach((function(t){i.push(t.x,t.y,t.z)})),i},v=function(t,i){var e=[];return t.forEach((function(a,n){t[i].x===a.x&&t[i].y===a.y&&t[i].z===a.z&&e.push(n)})),e},d=function(t,i,e){var a=e.color,n=e.tipHeight,r=e.data,o=e.tipOffsetX,l=e.tipOffsetZ,b=e.segmentHeight,p=e.topOffsetX,y=e.topOffsetZ,d=new u.o({color:parseInt(a.replace("#","0x"),16),flatShading:!0}),h=new u.j,w=r.length*b,m=new u.t(new u.A(t.x,t.y,t.z),new u.A(t.x-(p>1?-1:p),t.y+w/2,t.z-(y>1?-1:y)),new u.A(t.x+p,t.y+w,t.z+y)).getPoints(r.length-1),x=null;return m.forEach((function(t,i){if(x){var e=r[i],a=function(t,i,e,a,n,r,o,l,b,p){var y=(new u.A).subVectors(i,t),d=new u.m;d.lookAt(t,i,(new u.p).up),d.multiply((new u.m).set(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1));var h=new u.e(n,a,y.length(),10,2,!1),w=new u.n(h,e),m=c(w.geometry.attributes.position.array);m.sort((function(t,i){return t.y>i.y?1:t.y<i.y?-1:0}));for(var x=0;x<11;x+=2)v(m,x).forEach((function(t){m[t].y-=.7}));return v(m,20).forEach((function(t){m[t].y+=1})),o&&v(m,60).forEach((function(t){m[t].y+=l,m[t].x+=b,m[t].z+=p})),w.geometry.setAttribute("position",new u.i(f(m),3)),s(w),w.applyMatrix4(d),w.position.x=(i.x+t.x)/2,w.position.y=(i.y+t.y)/2,w.position.z=(i.z+t.z)/2,w.rotateY(.0174532925*r),s(w),w}(new u.A(x.x,x.y-.3,x.z),t,d,e.bottomRadius,e.topRadius,e.rotationY,i===m.length-1,n,o,l);s(a),a.geometry.attributes.position.needsUpdate=!0,h.add(a)}x=t})),h.translateY(-1),h},h=e(20),w=e(10),m=e(17),x=e(19),g=[{value:"#d59168",probability:1},{value:"#b97952",probability:10},{value:"#a46239",probability:10},{value:"#6e3b1c",probability:100},{value:"#4f2409",probability:100},{value:"#593e30",probability:1e3},{value:"#52473e",probability:1e3},{value:"#2f1b10",probability:1e3}],z=[{value:.65,probability:1},{value:.68,probability:5},{value:.7,probability:100},{value:.72,probability:5},{value:.75,probability:1}],j=[{value:.8,probability:1},{value:.81,probability:5},{value:.82,probability:20},{value:.83,probability:100},{value:.84,probability:100},{value:.85,probability:20}],A=[{value:4,probability:10},{value:5,probability:100},{value:6,probability:100},{value:7,probability:10}],E=[{value:4,probability:100},{value:4.5,probability:50},{value:5,probability:50}],O=[{value:"#b8da67",probability:1},{value:"#91b341",probability:10},{value:"#384d10",probability:10},{value:"#2f3b17",probability:100},{value:"#99b93e",probability:100},{value:"#647a26",probability:1e3},{value:"#313b0b",probability:1e3},{value:"#1e2309",probability:1e3}],F=[{value:3,probability:100},{value:3.3,probability:200},{value:3.5,probability:100},{value:3.8,probability:50},{value:4,probability:10}],M=[{value:0,probability:50},{value:.1,probability:50},{value:.2,probability:50},{value:.3,probability:5}],k=[{value:-.8,probability:50},{value:-.5,probability:50},{value:-.3,probability:50},{value:0,probability:1e3},{value:.3,probability:50},{value:.5,probability:50},{value:.8,probability:50}],T=[{value:3,probability:200},{value:4,probability:200},{value:5,probability:50},{value:6,probability:10},{value:7,probability:2}],D=[{value:4,probability:1},{value:4.05,probability:100},{value:4.1,probability:500},{value:4.15,probability:100},{value:4.2,probability:500},{value:4.25,probability:100},{value:4.3,probability:20},{value:4.35,probability:1}],S=[{value:.5,probability:10},{value:.55,probability:50},{value:.6,probability:100},{value:.65,probability:50},{value:.7,probability:10}],H=[{value:.85,probability:50},{value:.8,probability:50},{value:.75,probability:50}],R=[{value:1.8,probability:10},{value:1.9,probability:50},{value:2,probability:100},{value:2.1,probability:50},{value:2.2,probability:10}],Y=[{value:-30,probability:100},{value:-20,probability:100},{value:-10,probability:100},{value:0,probability:100},{value:10,probability:100},{value:20,probability:100},{value:30,probability:100}],L=function(t){var i=function(t){var i=[];return t.forEach((function(t){for(var e=0;e<t.probability;e++)i.push(t.value)})),i}(t);return i[p(0,i.length-1)]},I=function(){var t=L(g),i=L(z),e=L(j),a=function(t,i){for(var e=[],a=0;a<=t;a++){var n=[b(0,.5).toFixed(2),(i/t*a).toFixed(2),0,b(0,100).toFixed(2)];e.push(n.join("|"))}return e.join(",")}(L(A),L(E)),n=L(O),r=L(F),o=L(M),l=L(M),u=function(t,i,e){for(var a=[],n=L(D),r=0;r<=t;r++){var o=L(F),l=L(Y),u=[n,(n*i).toFixed(2),o,l];a.push(u.join("|")),n*=e}return a.join(",")}(L(T),L(S),L(H)),p=L(R),s=L(k),y=L(k);return[[t,i,e,a].join("&"),[n,r,o,l,u,p,s,y].join("&")].join("^")},N=function(t){var i=[];return t.split(",").forEach((function(t){var e=t.split("|");e=e.map((function(t){return parseFloat(t)})),i.push({x:e[0],y:e[1],z:e[2],seed:e[3]})})),i},B=function(t,i){var e=[];return t.split(",").forEach((function(t){var a=(t=(t=(t=t.replace("x",i.x)).replace("y",i.y)).replace("z",i.z)).split("|");a=a.map((function(t){return function(t){var i=0;for(t=t.replace(/\s/g,"").match(/[+\-]?([0-9\.\s]+)/g)||[];t.length;)i+=parseFloat(t.shift());return i}(t)})),e.push({bottomRadius:a[0],topRadius:a[1],height:a[2],rotationY:a[3]})})),e},W=function(t,i){var e=t.split("^"),a=function(t){var i=t.split("&");return{color:i[0],width:parseFloat(i[1]),shrink:parseFloat(i[2]),pointArray:N(i[3])}}(e[0]),n=a.pointArray[a.pointArray.length-1].y,r=function(t,i){var e=t.split("&");return{color:e[0],tipHeight:parseFloat(e[1]),tipOffsetX:parseFloat(e[2]),tipOffsetZ:parseFloat(e[3]),data:B(e[4],i),segmentHeight:parseFloat(e[5]),topOffsetX:parseFloat(e[6]),topOffsetZ:parseFloat(e[7])}}(e[1],n);if(i<=2){var o=Math.floor(i*(a.pointArray.length/10)),l=a.pointArray.length;return a.pointArray=a.pointArray.splice(0,o<=l?o:l),a.color="#74a146",{trunkData:a,scale:i/20}}return r.data=r.data.splice(0,i-9),{topData:r,trunkData:a,scale:i/20}},X=function(){var t=new u.d(.05,1,3,4),i=new u.o({color:"#5c7a3a",flatShading:!0}),e=new u.n(t,i),a=c(e.geometry.attributes.position.array),n=a.filter((function(t,i,e){return i===e.findIndex((function(i){return i.y===t.y}))}));(n=n.map((function(t){return t.y}))).forEach((function(t){a.filter((function(i){return i.y===t})).forEach((function(t){a[a.indexOf(t)].x+=b(-.05,.05),a[a.indexOf(t)].z+=b(-.05,.05)}))}));var r=f(a);return e.geometry.setAttribute("position",new u.i(r,3)),e},Z=e(18),q=e(9),C=function(){var t=Object(a.useState)(new u.v),i=Object(l.a)(t,2),e=i[0],n=i[1],r=Object(a.useState)(new u.r(75,window.innerWidth/window.innerHeight,.1,1e3)),o=Object(l.a)(r,2),g=o[0],z=o[1],j=Object(a.useRef)(null),A=function(t,i,e){var a=W(i,e),n=a.trunkData,r=a.topData,o=a.scale,l=function(t,i){var e=i.color,a=i.width,n=i.shrink,r=i.pointArray,o=[],l=new u.j,b=new u.o({color:parseInt(e.replace("#","0x"),16),flatShading:!0});r.forEach((function(t){var i=new u.e(a,a,0,12),e=new u.n(i,b);e.position.set(t.x,t.y,t.z),e.scale.set(1,1,1);for(var r=e.geometry.attributes.position.array,p=new Float32Array(r.length),y=Object(w.makeNoise2D)(t.seed),c=0;c<=r.length;c+=3){var f=new u.A(r[c],r[c+1],r[c+2]);f.normalize().multiplyScalar(a+.2*y(2*f.x,2*f.y)),p[c]=f.x,p[c+1]=f.y,p[c+2]=f.z}e.geometry.setAttribute("position",new u.i(p,3)),s(e),l.add(e),o.push(e),a*=n}));for(var p=function(t){var i=[o[t-1],o[t]],e=[];i.forEach((function(t){e=e.concat(y(t))}));var a=new h.a(e),n=new u.n(a,b);l.add(n)},c=1;c<o.length;c++)p(c);return{trunkMesh:l,trunkTop:r[r.length-1]}}(0,n),b=l.trunkMesh,p=l.trunkTop,c=r&&d(p,0,r),f=new u.j;return f.add(b),r&&f.add(c),f.position.set(t.x,t.y,t.z),f.scale.set(o,o,o),{mesh:f,width:r.data[0].bottomRadius}};return Object(a.useEffect)((function(){var t=function(t,i){var e=new u.n(new u.g(i,6),new u.o({vertexColors:!0,flatShading:!0})),a=c(e.geometry.attributes.position.array),n=[];a.forEach((function(t,e){if(t.y>-1){var r=v(a,e),o=Object(w.makeNoise2D)();r.forEach((function(t){a[t].y=.4*o(.2*a[t].x,.3*a[t].y)*(i/4)-1})),n=n.concat(r)}})),e.geometry.setAttribute("position",new u.i(f(a),3));var r=[],o=new u.c;return a.forEach((function(){o.set(["#727272","#557312"][Math.random()>.7?0:1]),r.push(o.r,o.g,o.b),r.push(o.r,o.g,o.b),r.push(o.r,o.g,o.b)})),e.geometry.setAttribute("color",new u.i(r,3)),e.translateY(1),e}(0,10),i=new u.j;i.add(t),t.translateY(-4);for(var a=new Z.a(t).build(),r=new u.A,o=[],l=0;l<=5;)a.sample(r),new u.A(0,0,0).distanceTo(r)<9&&function(){var t=A(r,I(),b(11,20)),e=t.mesh,a=t.width;e.translateY(-3);var n=!0;o.forEach((function(t){t.position.distanceTo(e.position)<t.width+1.5&&(n=!1)})),n&&(i.add(e),o.push({position:e.position,width:a}),l++)}();for(var s=0,d=function(){a.sample(r);var t=function(){var t=new u.n(new u.q(3,1),new u.o({color:"#919191",flatShading:!0})),i=y(t),e=Object(w.makeNoise3D)(100*Math.random());i.forEach((function(t){t.normalize().multiplyScalar(1+.2*e(1*t.x,1*t.y,1*t.z))}));var a=f(i);return t.geometry.setAttribute("position",new u.i(a,3)),t.scale.set(b(.5,1),.5,b(.5,1)),t}();if(r.y>-3&&new u.A(0,0,0).distanceTo(r)<9){t.position.set(r.x,r.y-3,r.z);var e=!0;o.forEach((function(i){i.position.distanceTo(t.position)<1&&(e=!1)})),e&&(i.add(t),o.push({position:t.position,width:1}),s++)}};s<=20;)d();for(var h=[],x=0;x<10;x++)h.push(X());for(var E=0,O=function(){a.sample(r);var t=h[p(0,9)].clone();if(r.y>-3&&new u.A(0,1,0).distanceTo(r)<9.4){t.position.set(r.x,r.y-3,r.z);var e=!0;o.forEach((function(i){i.position.distanceTo(t.position)<.8&&(e=!1)})),e&&(i.add(t),E++)}};E<=10;)O();e.add(i),function(t,i,e,a,n,r){i(new u.v),n(new u.r(75,window.innerWidth/window.innerHeight,.1,1e3)),a.position.set(20,5,20);var o=new u.a(4210752);t.add(o),[{intensity:1.1,x:1e4,y:1e4,z:1e4},{intensity:.1,x:0,y:10,z:10},{intensity:.1,x:10,y:10,z:-10},{intensity:.1,x:-10,y:10,z:-10},{intensity:.4,x:0,y:-20,z:0}].forEach((function(i){var e=i.intensity,a=i.x,n=i.y,r=i.z,o=new u.f("#ffffff",e);o.position.set(a,n,r),t.add(o)}));var l=new u.B({alpha:!0});l.setSize(window.innerWidth,window.innerHeight),e.current.innerHTML="",e.current.appendChild(l.domElement);var b=!1,p=new m.a(a,l.domElement);p.mouseButtons={LEFT:u.l.ROTATE,MIDDLE:u.l.DOLLY,RIGHT:u.l.PAN},p.update(),p.addEventListener("change",(function(){b=!0,l.render(t,a)})),function i(){b||(requestAnimationFrame(i),r.rotateY(.004),l.render(t,a))}();var s=l.domElement.toDataURL();console.log(s)}(e,n,j,g,z,i)}),[]),Object(q.jsxs)(a.Fragment,{children:[window.innerWidth<=1e3&&Object(q.jsx)(x.a,{className:"moveButton"}),Object(q.jsx)("div",{ref:j,className:"container"})]})};o.a.render(Object(q.jsx)(n.a.StrictMode,{children:Object(q.jsx)(C,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d800723f.chunk.js.map